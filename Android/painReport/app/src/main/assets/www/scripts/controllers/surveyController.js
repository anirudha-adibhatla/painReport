!function(){"use strict";angular.module("surveyApp").controller("surveyController",["$scope","$timeout","$location","activeData",function(e,t,n,o){e.title="Survey",e.questions=[],e.questionCounter=0,e.answers=[],e.selectedAnswer="",e.bodyPainAnswer={location:"",intensity:""},e.surveyID="",e.$watch("selectedAnswer",function(t){if("multiChoiceSingleCorrect"===e.questions[e.questionCounter].questionType&&""!==t&&void 0!==t){var n=e.questions[e.questionCounter].quesID,o=t;console.log(o),e.saveAnswerToLocalStorage(n,o),$("#next").removeClass("disabled")}}),e.$watch("partClicked",function(){e.bodyPainAnswer.location=e.partClicked,e.bodyPainAnswerWatcher()}),e.$watch("painIntensityValue",function(){e.bodyPainAnswer.intensity=e.painIntensityValue,e.bodyPainAnswerWatcher()}),e.bodyPainAnswerWatcher=function(){console.log(e.bodyPainAnswer),"No Part Selected"!==e.partClicked&&0!==e.painIntensityValue?$("#next").removeClass("disabled"):$("#next").addClass("disabled")},e.saveAnswerToLocalStorage=function(t,n){var o=e.surveyID;localStorage.setItem(o+":"+t,n)},e.checkFromLocalStorage=function(t){var n=e.surveyID;return null!==localStorage.getItem(n+":"+t)?localStorage.getItem(n+":"+t):"not set"},e.controllerInit=function(){e.questions=o.getSurveyQuestions(),e.surveyID=o.getSurveyID(),console.log(e.questions),0===e.questionCounter&&$("#prev").addClass("disabled"),e.populateQuestions()},e.populateQuestions=function(){console.log(e.questions[e.questionCounter]);var t=e.questions[e.questionCounter].questionText;e.question=t,"multiChoiceSingleCorrect"===e.questions[e.questionCounter].questionType?($("#optionsTwo").hide(),$("#optionsThree").hide(),$("#optionsOne").show()):"multiChoiceMultipleCorrect"===e.questions[e.questionCounter].questionType?($("#optionsOne").hide(),$("#optionsTwo").hide(),$("#optionsThree").show()):"bodyPain"===e.questions[e.questionCounter].questionType&&($("#optionsOne").hide(),$("#optionsThree").hide(),$("#optionsTwo").show(),e.bodyPainAnswerWatcher()),e.populateAnswers()},e.populateAnswers=function(){e.answers=[];var n=e.checkFromLocalStorage(e.questions[e.questionCounter].quesID);angular.forEach(e.questions[e.questionCounter].answerOptions,function(o){e.answers.push(o),"not set"!==n&&(console.log(n),parseInt(n)===parseInt(o.answerID)&&(console.log("here "+o.answerID),t(function(){e.$apply(function(){e.selectedAnswer=o.answerID})},10)))})},e.goPrev=function(){e.questionCounter--,0===e.questionCounter&&$("#prev").addClass("disabled"),$("#next").removeClass("disabled"),e.populateQuestions()},e.goNext=function(){e.questionCounter===e.questions.length-1?e.changePage("/surveyEnd"):(e.questionCounter++,e.questionCounter>0&&$("#prev").removeClass("disabled"),e.questionCounter===e.questions.length-1&&$("#next").addClass("disabled"),e.populateQuestions(),e.selectedAnswer="",$("#next").addClass("disabled"))},e.changePage=function(e){n.path(e)},e.parts=["frontFaceFill","frontChestFill","frontRightHandFill","frontAbdomenFill","frontLeftHandFill","frontRightLegFill","frontLeftLegFill","backHeadFill","backFill","backLeftLegFill","backRightLegFill","backRightHandFill","backLeftHandFill","backLowerFill"],e.partNames=["Front Head Area","Chest Area","Right Hand Front","Abdomen Area","Left Hand Front","Right Leg Front","Left Leg Front","Head Back Area","Back","Left Leg Back","Right Leg Back","Right Hand Back","Left Hand Back","Lower Back"],e.partClicked="No Part Selected",e.painIntensityValue=0,e.position,e.lastSelectedPart,e.noPartSelected=!0,e.onClickParts=function(t){e.position=e.parts.indexOf(t.target.id),e.lastSelectedPart!=t.target?("undefined"!=typeof e.lastSelectedPart&&(e.lastSelectedPart.style.fill="#ffffff"),t.target.style.fill="#e74c3c",e.noPartSelected=!1):e.noPartSelected?(t.target.style.fill="#e74c3c",e.noPartSelected=!1):(t.target.style.fill="#ffffff",e.partClicked="",e.noPartSelected=!0),e.partClicked=e.noPartSelected?"No Part Selected":e.partNames[e.position],e.lastSelectedPart=t.target},e.controllerInit()}])}();